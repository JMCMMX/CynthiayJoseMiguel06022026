<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vuelos - Boda Cynthia y Jose Miguel</title>

  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Lato:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --arena: #E7DCCB;
      --duna:  #CDBDA7;
      --mar:   #cbb893;
      --tinta: #3F3A36;
    }

    .sm-toggle{
      position:relative; display:inline-flex; align-items:center; justify-content:center;
      height:2.6em; min-width:8ch; padding:0 .9em;
      background:rgba(0,0,0,.25); color:#F2EEE9; border:none; cursor:pointer;
      border-radius:999px; backdrop-filter:blur(6px);
      font:700 .95rem/1 'Lato',sans-serif; letter-spacing:.5px; text-transform:uppercase;
      overflow:hidden; transition:background .25s ease,color .25s ease,transform .08s ease;
      -webkit-tap-highlight-color:transparent;
      box-shadow: 0 6px 18px rgba(0,0,0,.18);
    }
    .sm-toggle:hover{ background:rgba(0,0,0,.35) }
    .sm-toggle:active{ transform:translateY(1px) scale(.99) }
    .staggered-menu-wrapper[data-open] .sm-toggle{ background:rgba(255,255,255,.85); color:var(--tinta) }

    .sm-icon,.sm-icon-line,.menu-tip,.menu-guide{ display:none !important }

    .sm-toggle-text-open,.sm-toggle-text-close{
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      width:100%; line-height:1; backface-visibility:hidden;
      transition:transform .35s ease, opacity .35s ease;
    }
    .sm-toggle-text-open{ opacity:1; transform:translateY(0%) }
    .sm-toggle-text-close{ opacity:0; transform:translateY(100%) }
    .staggered-menu-wrapper[data-open] .sm-toggle-text-open{ opacity:0; transform:translateY(-100%) }
    .staggered-menu-wrapper[data-open] .sm-toggle-text-close{ opacity:1; transform:translateY(0%) }

    .staggered-menu-wrapper{ position:fixed; inset:0; height:100vh; width:100%; z-index:999; pointer-events:none }
    .staggered-menu-header{ position:absolute; top:0; left:0; width:100%; display:flex; align-items:center; justify-content:space-between; padding:1.5em; z-index:20 }
    .staggered-menu-header>*{ pointer-events:auto }
    .sm-logo{ display:inline-flex; align-items:center; gap:.5rem; text-decoration:none }
    .sm-logo-img{ height:56px; width:auto; display:block; transition:filter .3s ease }
    .menu-open .sm-logo-img{ filter:none }

    .staggered-menu-panel,.sm-prelayers{ position:absolute; top:0; right:0; width:clamp(300px,38vw,420px); height:100% }
    .staggered-menu-panel{
      background:#F2EEE9; display:flex; flex-direction:column; padding:7em 2em 2em;
      overflow-y:auto; z-index:10; pointer-events:auto; transform:translateX(100%); transition:transform .55s ease;
    }
    .staggered-menu-wrapper[data-open] .staggered-menu-panel{ transform:translateX(0) }
    .sm-prelayers{ pointer-events:none; z-index:5 }
    .sm-prelayer{ position:absolute; inset:0; transform:translateX(100%); transition:transform .5s ease }
    .staggered-menu-wrapper[data-open] .sm-prelayer{ transform:translateX(0) }

    .sm-panel-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.6rem; counter-reset:smItem }
    .sm-panel-item{
      position:relative; color:var(--tinta); font-weight:700; text-decoration:none;
      font-size:clamp(2rem,5vw,3rem); text-transform:uppercase; letter-spacing:-2px;
      padding-right:1.6em; display:inline-block; transition:color .25s ease;
    }
    .sm-panel-item:hover{ color:var(--mar) }
    .sm-panel-item::after{
      counter-increment:smItem; content:counter(smItem,decimal-leading-zero);
      position:absolute; top:.1em; right:0; font-size:16px; color:var(--mar); opacity:.9;
    }

    @media (max-width:640px){
      .staggered-menu-header{ padding:1.1em }
      .staggered-menu-panel,.sm-prelayers{ width:100%; left:0; right:0 }
      .staggered-menu-panel{ padding-left:1.4em; padding-right:1.4em }
      .sm-logo-img{ height:50px }
    }

    body{ background: #FAF7F2; color: var(--tinta); }
    .contenido-pagina{ max-width:1100px; margin:120px auto 64px; padding:0 18px }
    h1{ font-family:'Dancing Script',cursive; font-size:3rem; margin:.2em 0 .1em; text-align:center }
    h2{ font-size:1.25rem; margin:0 0 .6rem; letter-spacing:.2px }
    p, li{ font-family:'Lato',sans-serif; line-height:1.6 }
    .note{ font-size:.92rem; color:#5d5249 }
    .divider{ height:1px; background: rgba(0,0,0,.08); margin:18px 0; }

    .card{
      background:#fff; border-radius:16px; padding:20px;
      box-shadow: 0 6px 22px rgba(0,0,0,.07), inset 0 0 0 1px rgba(0,0,0,.04);
    }

    /* ===== Formulario Google Flights ===== */
    .flight-form{ display:flex; flex-direction:column; gap:14px; }
    .flight-row{
      display:grid; grid-template-columns: repeat(4, 1fr);
      gap:12px;
    }
    .flight-row label{
      display:flex; flex-direction:column; gap:6px;
      font-family:'Lato',sans-serif;
      font-size:.95rem;
    }
    .flight-row input, .flight-row select{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,.15);
      background:#fff;
      font-family: inherit;
    }
    .cta-row{ display:flex; gap:12px; flex-wrap:wrap; margin-top:14px }
    .btn{
      display:inline-flex; align-items:center; gap:.5rem; border-radius:999px; padding:.75rem 1rem;
      font-weight:700; text-decoration:none; background: var(--mar); color:#fff;
      box-shadow: 0 6px 16px rgba(0,0,0,.12);
      border:none; cursor:pointer;
      font-family:'Lato',sans-serif;
    }
    .btn.secondary{ background:#2F4667; }
    .flight-error{
      display:none;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(200,0,0,.2);
      background: rgba(255,0,0,.06);
      color:#7a1a1a;
      font-family:'Lato',sans-serif;
    }
    @media (max-width:900px){
      .flight-row{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <div class="staggered-menu-wrapper">
    <div class="sm-prelayers" aria-hidden="true">
      <div class="sm-prelayer" style="background:#2F4667;"></div>
      <div class="sm-prelayer" style="background:#A3ADA0;"></div>
      <div class="sm-prelayer" style="background:#E6DECF;"></div>
    </div>

    <header class="staggered-menu-header">
      <a href="index.html" class="sm-logo" aria-label="Homepage">
        <img src="logo.svg" alt="Cynthia & Jose Miguel" class="sm-logo-img" loading="eager" decoding="async">
      </a>

      <button class="sm-toggle" aria-label="Menú" aria-expanded="false" aria-controls="staggered-menu-panel" type="button">
        <span class="sm-toggle-text-open">MENU</span>
        <span class="sm-toggle-text-close">CERRAR</span>
      </button>
    </header>

    <aside id="staggered-menu-panel" class="staggered-menu-panel" aria-hidden="true" role="navigation">
      <ul class="sm-panel-list" role="list">
        <li><a class="sm-panel-item" href="index.html">Página Principal</a></li>
        <li><a class="sm-panel-item" href="gracias.html">Agradecimientos</a></li>
        <li><a class="sm-panel-item" href="fecha-hora.html">Fecha y Hora</a></li>
        <li><a class="sm-panel-item" href="menu.html">Menú</a></li>
        <li><a class="sm-panel-item" href="hospedaje.html">Hospedaje</a></li>
        <li><a class="sm-panel-item" href="xcaret.html">Hospedarte en Xcaret</a></li>
        <li><a class="sm-panel-item" href="vuelos.html">Vuelos</a></li>
        <li><a class="sm-panel-item" href="evento.html">Mapa del evento</a></li>
        <li><a class="sm-panel-item" href="regalos.html">Regalos</a></li>
        <li><a class="sm-panel-item" href="Time.html">Cuenta Regresiva</a></li>
      </ul>
    </aside>
  </div>

  <div class="contenido-pagina">
    <h1><i class="fa-solid fa-plane-departure"></i> Búsqueda de Vuelos</h1>

    <p class="introduccion-vuelos">
      Selecciona tu aeropuerto de salida y las fechas. Te llevamos directo a <strong>Google Flights</strong> con la búsqueda prellenada.
      Destino fijo: <strong>Cancún (CUN)</strong>.
    </p>

    <div class="card">
      <h2><i class="fa-brands fa-google"></i> Buscar en Google Flights</h2>
      <p class="note">Abre una nueva pestaña con tu búsqueda lista para comparar precios.</p>

      <div id="flightError" class="flight-error"></div>

      <form id="flightForm" class="flight-form" autocomplete="off">
        <div class="flight-row">
          <label for="flightFrom">
            Origen
            <select id="flightFrom" required>
              <option value="MEX" selected>CDMX (MEX) – AICM</option>
              <option value="NLU">AIFA (NLU) – Felipe Ángeles</option>
              <option value="TLC">Toluca (TLC) – AIT</option>
              <option value="PBC">Puebla (PBC) – Hermanos Serdán</option>
            </select>
          </label>

          <label for="flightTo">
            Destino
            <input id="flightTo" type="text" value="Cancún (CUN)" disabled />
          </label>

          <label for="flightDepart">
            Salida
            <input type="date" id="flightDepart" required />
          </label>

          <label for="flightReturn">
            Regreso
            <input type="date" id="flightReturn" required />
          </label>
        </div>

        <div class="cta-row">
          <button type="button" class="btn secondary" id="flightPresetBtn">
            Fechas sugeridas (05–08 Feb 2026)
          </button>

          <button type="submit" class="btn">
            <i class="fa-solid fa-magnifying-glass"></i> Buscar en Google Flights →
          </button>
        </div>

        <p class="note" style="margin-top:10px">
          Si cambias la salida, el regreso se ajusta automáticamente (mínimo 1 día después).
        </p>
      </form>
    </div>

    <div class="divider"></div>

    <div class="navegacion-volver">
      <a href="index.html" class="boton-volver">← Volver a la Página Principal</a>
    </div>
  </div>

  <script>
    (function(){
      const w = document.querySelector('.staggered-menu-wrapper');
      const p = document.getElementById('staggered-menu-panel');
      const b = document.querySelector('.sm-toggle');
      if(!w || !p || !b) return;

      const isOpen = ()=> b.getAttribute('aria-expanded')==='true';
      const apply = (o)=>{
        if(o) w.setAttribute('data-open',''); else w.removeAttribute('data-open');
        p.setAttribute('aria-hidden', String(!o));
        b.setAttribute('aria-expanded', String(o));
        document.body.classList.toggle('menu-open', o);
      };

      b.addEventListener('click', ()=> apply(!isOpen()));

      document.addEventListener('click', e=>{
        if(!isOpen()) return;
        if(!p.contains(e.target) && !b.contains(e.target)) apply(false);
      });

      window.addEventListener('keydown', e=>{
        if(e.key === 'Escape' && isOpen()) apply(false);
      });

      requestAnimationFrame(()=>apply(false));
    })();
  </script>

  <script>
    (function initFlights(){
      const DEFAULT_DEPART = '2026-02-05';
      const DEFAULT_RETURN = '2026-02-08';
      const DEST_IATA = 'CUN';

      const fromEl   = document.getElementById('flightFrom');
      const depEl    = document.getElementById('flightDepart');
      const retEl    = document.getElementById('flightReturn');
      const presetEl = document.getElementById('flightPresetBtn');
      const errEl    = document.getElementById('flightError');
      const formEl   = document.getElementById('flightForm');

      if(!fromEl || !depEl || !retEl || !formEl) return;

      function toISODate(d){
        const y = d.getFullYear();
        const m = String(d.getMonth()+1).padStart(2,'0');
        const day = String(d.getDate()).padStart(2,'0');
        return `${y}-${m}-${day}`;
      }
      function addDays(iso, days){
        const [y,m,d] = iso.split('-').map(Number);
        const date = new Date(y, m-1, d);
        date.setDate(date.getDate() + days);
        return toISODate(date);
      }

      function showError(msg){
        if(!errEl) return alert(msg);
        errEl.textContent = msg;
        errEl.style.display = 'block';
      }
      function clearError(){
        if(!errEl) return;
        errEl.textContent = '';
        errEl.style.display = 'none';
      }

      const todayISO = toISODate(new Date());
      depEl.min = todayISO;
      retEl.min = todayISO;

      if(!depEl.value) depEl.value = DEFAULT_DEPART;
      if(!retEl.value) retEl.value = DEFAULT_RETURN;

      function autoFixReturn(){
        const d = (depEl.value || '').trim();
        if(!d) return;
        retEl.min = addDays(d, 1);
        if(!retEl.value || retEl.value <= d){
          retEl.value = addDays(d, 3);
          if(retEl.value <= d) retEl.value = addDays(d, 1);
        }
        if(retEl.value <= d) retEl.value = addDays(d, 1);
      }

      depEl.addEventListener('change', ()=>{
        autoFixReturn();
        clearError();
      });

      presetEl?.addEventListener('click', ()=>{
        depEl.value = DEFAULT_DEPART;
        retEl.value = DEFAULT_RETURN;
        autoFixReturn();
        clearError();
      });

      autoFixReturn();

      formEl.addEventListener('submit', (e)=>{
        e.preventDefault();
        clearError();

        const from = (fromEl.value || '').trim(); // MEX, NLU, TLC, PBC
        const dep  = (depEl.value || '').trim();  // YYYY-MM-DD
        const ret  = (retEl.value || '').trim();  // YYYY-MM-DD

        if(!from) return showError('Selecciona un aeropuerto de origen.');
        if(!dep || !ret) return showError('Selecciona fechas de salida y regreso.');
        if(ret <= dep) return showError('La fecha de regreso debe ser posterior a la salida.');
        if(dep < todayISO) return showError('La fecha de salida no puede ser anterior a hoy.');

        // ✅ URL confiable usando q= (evita tfs codificado)
        // Ejemplo: https://www.google.com/travel/flights?q=Flights%20to%20CUN%20from%20MEX%20on%202026-02-05%20through%202026-02-08
        const query = `Flights to ${DEST_IATA} from ${from} on ${dep} through ${ret}`;
        const url = `https://www.google.com/travel/flights?q=${encodeURIComponent(query)}`;

        window.open(url, '_blank', 'noopener,noreferrer');
      });
    })();
  </script>
<footer class="footer-legal">
  <div class="footer-legal__inner">

    <p class="footer-legal__title">
      Cynthia &amp; José Miguel · 6 de febrero de 2026
    </p>

    <p class="footer-legal__text">
      Este sitio web es de <strong>carácter informativo y personal</strong>, creado con motivo de nuestra celebración.
      No está afiliado, patrocinado ni administrado por Hoteles Xcaret, Google, aerolíneas u otras marcas mencionadas.
    </p>

    <p class="footer-legal__text">
      Las búsquedas de vuelos, hospedaje y reservaciones se realizan en <strong>sitios externos</strong>.
      Cynthia y José Miguel no gestionan pagos, cambios, cancelaciones ni disponibilidad.
      Al continuar, aplican los términos y políticas de privacidad de cada proveedor.
    </p>

    <p class="footer-legal__small">
      © 2026 Cynthia &amp; José Miguel · Todos los derechos reservados
    </p>

  </div>
</footer>



</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Boda Cynthia y Jose Miguel</title>

  <!-- Favicon / PWA (opcional) -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" type="image/png" sizes="32x32" href="favicon-32.png">
  <link rel="alternate icon" type="image/png" sizes="16x16" href="favicon-16.png">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#2F4667">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#F2EEE9">

  <!-- Fuentes e iconos -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Lato:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <style>
    :root{ --sm-accent:#C6B28A; --qa-brand:#2F4667; --qa-accent:#C6B28A; }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0;
      font-family:'Lato',sans-serif;
      background:#F2EEE9;
      color:#3F3A36;
      line-height:1.6;
    }

    /* ====== MENÚ ====== */
    .staggered-menu-wrapper{ position:fixed; inset:0; height:100vh; width:100%; z-index:999; pointer-events:none; }
    .staggered-menu-header{ position:absolute; top:0; left:0; width:100%; display:flex; align-items:center; justify-content:space-between; padding:2em; z-index:20; }
    .staggered-menu-header>*{ pointer-events:auto; }
    .sm-logo{ display:inline-flex; align-items:center; gap:.5rem; text-decoration:none; }
    .sm-logo-img{ height:56px; width:auto; display:block; transition:filter .3s ease }
    .home-page:not(.menu-open) .sm-logo-img{ filter:invert(1) brightness(2) contrast(1); }
    .menu-open .sm-logo-img{ filter:none; }

    .sm-toggle{
      position:relative; display:inline-flex; align-items:center; gap:.6rem;
      background:rgba(0,0,0,.25); color:#F2EEE9; border:none; cursor:pointer;
      padding:.5em .7em; border-radius:12px; backdrop-filter: blur(4px);
      transition:background .3s ease,color .3s ease;
    }
    .staggered-menu-wrapper[data-open] .sm-toggle{ color:#3F3A36; background:rgba(255,255,255,.6); }
    .sm-icon{ position:relative; width:24px; height:18px; flex:0 0 24px; }
    .sm-icon-line{ position:absolute; left:0; right:0; height:2px; background:currentColor; border-radius:2px; transition:transform .4s ease,opacity .3s ease; }
    .sm-icon-line:nth-child(1){ top:0 } .sm-icon-line:nth-child(2){ top:8px } .sm-icon-line:nth-child(3){ top:16px }
    .staggered-menu-wrapper[data-open] .sm-icon-line:nth-child(1){ transform:translateY(8px) rotate(45deg) }
    .staggered-menu-wrapper[data-open] .sm-icon-line:nth-child(2){ opacity:0 }
    .staggered-menu-wrapper[data-open] .sm-icon-line:nth-child(3){ transform:translateY(-8px) rotate(-45deg) }

    .menu-tip{
      position:absolute; right:72px; top:20px; z-index:22;
      background:#2F4667; color:#F2EEE9; padding:.45rem .7rem; border-radius:999px;
      font-size:.9rem; box-shadow:0 10px 28px rgba(0,0,0,.22); display:flex; align-items:center; gap:.4rem; pointer-events:none;
    }

    .staggered-menu-panel,.sm-prelayers{ position:absolute; top:0; right:0; width:clamp(300px,38vw,420px); height:100%; }
    .staggered-menu-panel{
      background:#F2EEE9; display:flex; flex-direction:column; padding:7em 2em 2em;
      overflow-y:auto; z-index:10; pointer-events:auto; transform:translateX(100%); transition:transform .55s ease;
    }
    .staggered-menu-wrapper[data-open] .staggered-menu-panel{ transform:translateX(0) }
    .sm-prelayers{ pointer-events:none; z-index:5 }
    .sm-prelayer{ position:absolute; inset:0; transform:translateX(100%); transition:transform .5s ease }
    .staggered-menu-wrapper[data-open] .sm-prelayer{ transform:translateX(0) }

    .sm-panel-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.6rem; counter-reset:smItem }
    .sm-panel-item{
      position:relative; color:#3F3A36; font-weight:700; text-decoration:none;
      font-size:clamp(2rem,5vw,3rem); text-transform:uppercase; letter-spacing:-2px;
      padding-right:1.6em; display:inline-block; transition:color .25s ease;
    }
    .sm-panel-item:hover{ color:var(--sm-accent) }
    .sm-panel-item::after{ counter-increment:smItem; content:counter(smItem,decimal-leading-zero); position:absolute; top:.1em; right:0; font-size:16px; color:var(--sm-accent); opacity:.9; }

    @media (max-width:640px){
      .staggered-menu-header{ padding:1.2em }
      .staggered-menu-panel,.sm-prelayers{ width:100%; left:0; right:0 }
      .staggered-menu-panel{ padding-left:1.6em; padding-right:1.6em }
      .menu-tip{ right:62px; top:16px; font-size:.85rem }
      .sm-logo-img{ height:48px }
    }

    /* ===== HERO SLIDESHOW ===== */
    .hero{ position:relative; height:100vh; width:100%; overflow:hidden; background:#000; }
    .hero::before{ content:none !important; } /* No imagen fija */

    .slides{ position:absolute; inset:0; isolation:isolate; }
    .slide{ position:absolute; inset:0; opacity:0; clip-path:circle(0vmax at 50% 50%); will-change:opacity,clip-path; z-index:1; }
    .slide.is-top{ z-index:2 }
    .slide .kb{ position:absolute; inset:-10% -10%; background-size:cover; background-position:center; transform:scale(1.15); will-change:transform; filter:saturate(1.05) contrast(1.05); }

    .hero-title{ position:absolute; inset:0; display:grid; place-items:center; text-align:center; z-index:3; color:#fff; pointer-events:none; text-shadow:0 12px 36px rgba(0,0,0,.55); }
    .hero-title h1{ margin:0 12px 6px; font-family:'Dancing Script',cursive; font-weight:700; font-size:clamp(42px,6vw,86px); }
    .hero-title p{ margin:0; font-weight:300; letter-spacing:2px; font-size:clamp(16px,2.2vw,22px) }

    /* ===== Galería scroll-snap ===== */
    .snap-gallery{ position:relative; background:#F2EEE9; padding:24px 0 36px; border-top:1px solid rgba(0,0,0,.06); border-bottom:1px solid rgba(0,0,0,.06); overflow:hidden; z-index:5; }
    .snap-title{ text-align:center; margin:6px 0 14px; color:#6B5F56; font-weight:600; letter-spacing:.6px; }
    .snap-viewport{ display:flex; gap:14px; overflow-x:auto; padding: 0 16px; scroll-snap-type:x mandatory; -webkit-overflow-scrolling: touch; scroll-behavior:smooth; }
    .snap-item{ flex: 0 0 86%; max-width: 720px; aspect-ratio: 16/10; border-radius:14px; overflow:hidden; background:#ddd; box-shadow:0 10px 26px rgba(0,0,0,.08); scroll-snap-align:center; }
    @media (min-width:800px){ .snap-item{ flex-basis: 48%; } }
    @media (min-width:1100px){ .snap-item{ flex-basis: 36%; } }
    .snap-item img{ width:100%; height:100%; object-fit:cover; display:block; transform:translateZ(0); image-rendering:auto; }

    .snap-btn{ position:absolute; top:50%; transform:translateY(-50%); border:none; width:44px; height:44px; border-radius:50%; background:rgba(47,70,103,.9); color:#fff; font-size:26px; display:grid; place-items:center; box-shadow:0 8px 24px rgba(0,0,0,.22); cursor:pointer; z-index:11; }
    .snap-prev{ left:8px } .snap-next{ right:8px }
    @media (max-width:640px){ .snap-btn{ width:40px; height:40px; font-size:24px } }

    /* ===== Asistente QA ===== */
    .qa-bot { position: fixed; bottom: 20px; right: 20px; z-index: 1200; } /* por encima de todo */
    .qa-fab { position: relative; border: none; cursor: pointer; width: 70px; height: 70px; border-radius: 50%; background: #fff; box-shadow: 0 6px 20px rgba(0,0,0,.25); display: grid; place-items: center; }
    .qa-fab-avatar img { width: 55px; height: 55px; object-fit: contain; border-radius: 50%; }
    .qa-fab-ring { position: absolute; inset: 0; border-radius: 50%; box-shadow: 0 0 0 0 rgba(47,70,103,.35); animation: qa-pulse 2.4s ease-out infinite; }
    @keyframes qa-pulse { 0%{box-shadow:0 0 0 0 rgba(47,70,103,.4)} 70%{box-shadow:0 0 0 20px rgba(47,70,103,0)} 100%{box-shadow:0 0 0 0 rgba(47,70,103,0)} }
    .qa-bubbles { position: absolute; right: 84px; bottom: 50%; transform: translateY(50%); display: flex; flex-direction: column; gap: 6px; pointer-events: none; transition: opacity .6s ease, transform .6s ease; }
    .qa-bubble { background: var(--qa-brand); color:#fff; font-weight:700; padding: 10px 14px; border-radius: 16px; box-shadow: 0 8px 20px rgba(0,0,0,.2); max-width: 240px; }
    .qa-bubble-main { animation: qa-popin .6s ease-out both; }
    @keyframes qa-popin { from { opacity:0; transform: translate(12px,50%);} to {opacity:1; transform: translate(0,50%);} }
    .qa-bubble-typing { display: inline-flex; align-items: center; gap: 6px; height: 18px; padding: 8px 12px; opacity: 0; }
    .qa-bubble-typing .dot { width: 6px; height: 6px; border-radius: 50%; background: #fff; opacity:.5; animation: typing 1.2s infinite; }
    .qa-bubble-typing .dot:nth-child(2){ animation-delay:.15s } .qa-bubble-typing .dot:nth-child(3){ animation-delay:.3s }
    @keyframes typing { 0%{transform:translateY(0);opacity:.4} 30%{transform:translateY(-3px);opacity:1} 60%{transform:translateY(0);opacity:.6} 100%{transform:translateY(0);opacity:.4} }
    .qa-bubbles.hide { opacity: 0; transform: translateY(50%) translateX(8px); }
    .qa-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.35); z-index: 1100; display:none; }
    .qa-panel { position: fixed; bottom: 100px; right: 20px; width: min(92vw, 480px); max-height: 70vh; background:#fff; border-radius: 18px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,.25); display: none; grid-template-rows: auto 1fr auto; z-index: 1150; }
    .qa-bot.open .qa-panel { display: grid; animation: qa-pop .25s ease-out; }
    .qa-bot.open .qa-overlay { display:block; }
    @keyframes qa-pop { from { transform: translateY(15px); opacity:0 } to { transform: translateY(0); opacity:1 } }
    .qa-header { background: linear-gradient(to right, #F2EEE9, #E6DECF); padding: 12px 16px; display:flex; justify-content:space-between; align-items:center; }
    .qa-header h2 { margin: 0; font-size: 18px; color: var(--qa-brand); }
    .qa-close { border:none; background:transparent; font-size:22px; cursor:pointer; }
    .qa-list { padding: 10px 16px; overflow-y:auto; }
    .qa-item { border: 1px solid rgba(0,0,0,.08); border-radius: 12px; margin-bottom: 10px; }
    .qa-q { width: 100%; text-align: left; border: none; background:#fff; padding: 14px; font-weight: 700; font-size: 17px; cursor: pointer; }
    .qa-a { padding: 10px 14px; border-top: 1px dashed rgba(0,0,0,.1); }
    .qa-a p { margin: 8px 0; }
    .qa-link { display:inline-block; margin-top:6px; padding: 8px 12px; border-radius:999px; background: var(--qa-accent); color:#3F3A36; font-weight:700; text-decoration:none; }
    .qa-footer { font-size: 14px; padding: 10px; text-align:center; color:#6B5F56; background:#faf8f4; }
  </style>
</head>
<body class="home-page">

  <!-- ===== Menú ===== -->
  <div class="staggered-menu-wrapper">
    <div class="sm-prelayers" aria-hidden="true">
      <div class="sm-prelayer" style="background:#2F4667;"></div>
      <div class="sm-prelayer" style="background:#A3ADA0;"></div>
      <div class="sm-prelayer" style="background:#E6DECF;"></div>
    </div>

    <header class="staggered-menu-header">
      <a href="index.html" class="sm-logo" aria-label="Homepage">
        <img src="logo.svg" alt="Cynthia & Jose Miguel" class="sm-logo-img" loading="eager" decoding="async">
      </a>
      <span class="menu-tip"><i class="fa-solid fa-hand-point-right"></i> Aquí está el menú</span>
      <button class="sm-toggle" aria-label="Abrir menú" aria-expanded="false" aria-controls="staggered-menu-panel" type="button">
        <span class="sm-icon" aria-hidden="true">
          <span class="sm-icon-line"></span>
          <span class="sm-icon-line"></span>
          <span class="sm-icon-line"></span>
        </span>
      </button>
    </header>

    <aside id="staggered-menu-panel" class="staggered-menu-panel" aria-hidden="true">
      <div class="sm-panel-inner">
        <ul class="sm-panel-list" role="list">
          <li><a class="sm-panel-item" href="index.html"><span class="sm-panel-itemLabel">Homepage</span></a></li>
          <li><a class="sm-panel-item" href="fecha-hora.html"><span class="sm-panel-itemLabel">Fecha y Hora</span></a></li>
          <li><a class="sm-panel-item" href="lugar.html"><span class="sm-panel-itemLabel">El Lugar</span></a></li>
          <li><a class="sm-panel-item" href="hospedaje.html"><span class="sm-panel-itemLabel">Hospedaje</span></a></li>
          <li><a class="sm-panel-item" href="vuelos.html"><span class="sm-panel-itemLabel">Vuelos</span></a></li>
          <li><a class="sm-panel-item" href="calculadora.html"><span class="sm-panel-itemLabel">Calculadora</span></a></li>
          <li><a class="sm-panel-item" href="regalos.html"><span class="sm-panel-itemLabel">Regalos</span></a></li>
          <li><a class="sm-panel-item" href="Time.html"><span class="sm-panel-itemLabel">Cuenta Regresiva</span></a></li>
        </ul>
      </div>
    </aside>
  </div>

  <!-- ===== Hero Slideshow ===== -->
  <section class="hero" id="hero">
    <div class="slides" id="slides">
      <div class="slide is-top"><div class="kb" style="background-image:url('1.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('2.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('3.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('4.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('5.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('6.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('7.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('8.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('9.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('10.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('11.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('12.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('13.jpg')"></div></div>
      <div class="slide"><div class="kb" style="background-image:url('14.jpg')"></div></div>
    </div>

    <div class="hero-title">
      <div>
        <h1>Cynthia y Jose Miguel</h1>
        <p>06 de Febrero de 2026</p>
      </div>
    </div>
  </section>

  <!-- ===== Galería scroll-snap ===== -->
  <section class="snap-gallery" aria-label="Momentos que amamos">
    <h3 class="snap-title">Momentos que amamos</h3>

    <div class="snap-viewport" id="gal">
      <figure class="snap-item"><img src="1.jpg"  alt="Foto 1"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="2.jpg"  alt="Foto 2"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="3.jpg"  alt="Foto 3"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="4.jpg"  alt="Foto 4"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="5.jpg"  alt="Foto 5"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="6.jpg"  alt="Foto 6"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="7.jpg"  alt="Foto 7"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="8.jpg"  alt="Foto 8"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="9.jpg"  alt="Foto 9"  loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="10.jpg" alt="Foto 10" loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="11.jpg" alt="Foto 11" loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="12.jpg" alt="Foto 12" loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="13.jpg" alt="Foto 13" loading="lazy" decoding="async"></figure>
      <figure class="snap-item"><img src="14.jpg" alt="Foto 14" loading="lazy" decoding="async"></figure>
    </div>

    <button class="snap-btn snap-prev" id="snapPrev" aria-label="Anterior">‹</button>
    <button class="snap-btn snap-next" id="snapNext" aria-label="Siguiente">›</button>
  </section>

  <!-- ===== Librería GSAP ===== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <script>
    /* ===== Menú: toggle ===== */
    (function(){
      const wrapper = document.querySelector('.staggered-menu-wrapper');
      const panel   = document.getElementById('staggered-menu-panel');
      const toggle  = document.querySelector('.sm-toggle');
      const body    = document.body;
      function openMenu(){ wrapper.setAttribute('data-open',''); panel.setAttribute('aria-hidden','false'); toggle.setAttribute('aria-expanded','true'); body.classList.add('menu-open'); }
      function closeMenu(){ wrapper.removeAttribute('data-open'); panel.setAttribute('aria-hidden','true'); toggle.setAttribute('aria-expanded','false'); body.classList.remove('menu-open'); }
      function isOpen(){ return toggle.getAttribute('aria-expanded') === 'true'; }
      toggle.addEventListener('click', ()=>{ isOpen()? closeMenu(): openMenu(); });
    })();

    /* ===== HERO: Carrusel (reveal circular + Ken Burns) ===== */
    (function(){
      const slides = Array.from(document.querySelectorAll('.slide'));
      const kbImgs = slides.map(s=>s.querySelector('.kb'));
      if(slides.length === 0) return;
      let index = 0;
      const DURATION = 1.5, REVEAL = 1.6, EASE = 'power3.out';

      gsap.set(slides, { opacity:0, clipPath:'circle(0vmax at 50% 50%)', zIndex:1 });
      gsap.set(slides[0], { opacity:1, clipPath:'circle(140vmax at 50% 50%)', zIndex:2 });
      gsap.set(kbImgs, { scale:1.15, xPercent:0, yPercent:0 });
      gsap.to(kbImgs[0], { scale:1, duration:DURATION, ease:'power1.out' });

      function randPan(){ return { xPercent: gsap.utils.random(-6,6), yPercent: gsap.utils.random(-6,6) }; }
      function nextIndex(i){ return (i+1) % slides.length; }

      function go(next){
        const curr = index, nxt = next;
        gsap.set(slides[nxt], { zIndex:2, opacity:1, clipPath:'circle(0vmax at 50% 50%)' });
        const pan = randPan();
        gsap.set(kbImgs[nxt], { scale:1.18, xPercent:pan.xPercent, yPercent:pan.yPercent });

        const tl = gsap.timeline({
          defaults:{ ease:EASE },
          onComplete(){
            gsap.set(slides[curr], { zIndex:1, opacity:0, clipPath:'circle(0vmax at 50% 50%)' });
            index = nxt;
            gsap.delayedCall(DURATION, ()=> go(nextIndex(index)));
          }
        });

        tl.to(slides[nxt], { clipPath:'circle(140vmax at 50% 50%)', duration:REVEAL }, 0)
          .to(kbImgs[nxt], { scale:1, xPercent:0, yPercent:0, duration:DURATION, ease:'power1.out' }, 0)
          .to(slides[curr], { opacity:0, duration:0.9, ease:'power2.out' }, 0.4);
      }
      gsap.delayedCall(DURATION, ()=> go(1));
    })();

    /* ===== Galería: botones + auto-avance suave (pausa al tocar) ===== */
    (function(){
      const vp   = document.getElementById('gal');
      const prev = document.getElementById('snapPrev');
      const next = document.getElementById('snapNext');
      if(!vp) return;

      function cardWidth(){
        const card = vp.querySelector('.snap-item');
        if(!card) return 300;
        const r = card.getBoundingClientRect();
        return r.width + 14; // gap
      }
      function move(dir){ vp.scrollBy({ left: dir * cardWidth(), behavior:'smooth' }); }
      prev.addEventListener('click', ()=> move(-1));
      next.addEventListener('click', ()=> move( 1));

      // Arrastre con pointer (móvil/desktop)
      let isDown=false, startX=0, startLeft=0, userInteracting=false, pointerId=null, userTimer=null;
      function markInteracting(){
        userInteracting = true;
        clearTimeout(userTimer);
        userTimer = setTimeout(()=> userInteracting=false, 2000);
      }
      vp.addEventListener('pointerdown', e=>{ isDown=true; pointerId=e.pointerId; vp.setPointerCapture(pointerId); startX=e.clientX; startLeft=vp.scrollLeft; markInteracting(); });
      vp.addEventListener('pointermove', e=>{ if(!isDown) return; vp.scrollLeft = startLeft - (e.clientX - startX); markInteracting(); });
      function endPtr(){ isDown=false; if(pointerId!==null){ try{ vp.releasePointerCapture(pointerId);}catch{} pointerId=null; } markInteracting(); }
      vp.addEventListener('pointerup', endPtr);
      vp.addEventListener('pointercancel', endPtr);
      vp.addEventListener('wheel', markInteracting, {passive:true});

      // Auto-avance visible-aware
      let auto = null, visible=false;
      const step = ()=>{ if(!visible || userInteracting || isDown) return; vp.scrollBy({left:1, behavior:'auto'}); };
      const rafLoop = ()=>{ step(); auto = requestAnimationFrame(rafLoop); };

      const io = new IntersectionObserver(entries=>{
        visible = entries.some(e=> e.isIntersecting);
        if(visible && !auto){ auto = requestAnimationFrame(rafLoop); }
        if(!visible && auto){ cancelAnimationFrame(auto); auto=null; }
      }, { root:null, threshold:0.2 });
      io.observe(vp);
      window.addEventListener('load', ()=>{ if(!auto){ auto = requestAnimationFrame(rafLoop); } });
    })();
  </script>

  <!-- ====== Asistente QA (MARKUP) ====== -->
  <div class="qa-bot" id="qaBot" aria-live="polite">
    <button class="qa-fab" id="qaFab" aria-controls="qaPanel" aria-expanded="false" aria-label="Abrir ayuda de preguntas frecuentes">
      <span class="qa-fab-ring" aria-hidden="true"></span>
      <span class="qa-fab-avatar" aria-hidden="true"><img src="logo.svg" alt="Asistente" /></span>
    </button>

    <div class="qa-bubbles" id="qaBubbles" aria-hidden="true">
      <div class="qa-bubble qa-bubble-main">¿Dudas? Toca aquí</div>
      <div class="qa-bubble qa-bubble-typing" id="qaTyping"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
    </div>

    <div class="qa-overlay" id="qaOverlay"></div>

    <aside class="qa-panel" id="qaPanel" role="dialog" aria-modal="false" aria-labelledby="qaTitle">
      <header class="qa-header">
        <h2 id="qaTitle">¿En qué te ayudamos?</h2>
        <button class="qa-close" id="qaClose" aria-label="Cerrar ayuda">✕</button>
      </header>

      <div class="qa-list" role="list">
        <article class="qa-item">
          <button class="qa-q" aria-controls="qa-a-1" aria-expanded="false">¿Necesito hospedarme en el Hotel Xcaret?</button>
          <div class="qa-a" id="qa-a-1" hidden>
            <p>No es necesario; puedes hospedarte en el hotel de tu preferencia. Lo que más nos importa es tu compañía. Si lo prefieres, contamos con <strong>tarifa preferencial</strong> en <strong>Hotel Xcaret México</strong>.</p>
            <a class="qa-link" href="hospedaje.html">Ver opciones de hospedaje</a>
          </div>
        </article>

        <article class="qa-item">
          <button class="qa-q" aria-controls="qa-a-2" aria-expanded="false">¿Código de vestimenta?</button>
          <div class="qa-a" id="qa-a-2" hidden>
            <p>El código más habitual es <strong>“Formal de playa”</strong> (o guayabera formal) o <strong>“Cóctel de playa”</strong>.</p>
            <p>Evita blancos muy claros y coordina con tonos de la paleta del sitio.</p>
          </div>
        </article>

        <article class="qa-item">
          <button class="qa-q" aria-controls="qa-a-3" aria-expanded="false">¿A qué hora es?</button>
          <div class="qa-a" id="qa-a-3" hidden>
            <p>La ceremonia inicia a las <strong>6:00 p.m.</strong></p>
            <a class="qa-link" href="fecha-hora.html">Ver detalles</a>
          </div>
        </article>

        <article class="qa-item">
          <button class="qa-q" aria-controls="qa-a-4" aria-expanded="false">¿Debo llevar regalo?</button>
          <div class="qa-a" id="qa-a-4" hidden>
            <p><strong>No es necesario</strong>; tu <strong>presencia</strong> es lo más importante. Si deseas hacer un detalle, visita:</p>
            <a class="qa-link" href="regalos.html">Mesa de Regalos</a>
          </div>
        </article>

        <article class="qa-item">
          <button class="qa-q" aria-controls="qa-a-5" aria-expanded="false">¿Esta es una invitación?</button>
          <div class="qa-a" id="qa-a-5" hidden>
            <p>No, este es nuestro <strong>sitio web informativo</strong>. Las <strong>invitaciones</strong> se entregarán <strong>personalmente</strong>.</p>
          </div>
        </article>

        <article class="qa-item">
          <button class="qa-q" aria-controls="qa-a-6" aria-expanded="false">¿Puedo llevar niños?</button>
          <div class="qa-a" id="qa-a-6" hidden>
            <p>No. Por razones de seguridad, las instalaciones <strong>no</strong> permiten el ingreso de menores de edad.</p>
          </div>
        </article>
      </div>

      <footer class="qa-footer"><small>Preguntas frecuentes de la boda · Si tienes otra duda, contáctanos ✨</small></footer>
    </aside>
  </div>

  <!-- ===== JS del Asistente (AL FINAL para que encuentre el HTML) ===== -->
  <script>
    (function(){
      function initQA(){
        const root     = document.getElementById('qaBot');
        if(!root) return;
        const fab      = document.getElementById('qaFab');
        const panel    = document.getElementById('qaPanel');
        const overlay  = document.getElementById('qaOverlay');
        const closeBtn = document.getElementById('qaClose');
        const bubbles  = document.getElementById('qaBubbles');
        const typing   = document.getElementById('qaTyping');

        function setOpen(open){ root.classList.toggle('open', open); panel.style.display = open?'grid':'none'; overlay.style.display = open?'block':'none'; fab.setAttribute('aria-expanded', String(open)); }
        setOpen(false);

        setTimeout(()=> typing.style.opacity = '1', 4000);
        setTimeout(()=> bubbles.classList.add('hide'), 10000);

        fab.addEventListener('click', (e)=>{ e.stopPropagation(); setOpen( fab.getAttribute('aria-expanded') !== 'true' ); });
        closeBtn.addEventListener('click', ()=> setOpen(false));
        overlay.addEventListener('click', ()=> setOpen(false));
        document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') setOpen(false); });
        panel.addEventListener('click', (e)=> e.stopPropagation());

        document.querySelectorAll('.qa-q').forEach(btn=>{
          btn.addEventListener('click', ()=>{
            const id = btn.getAttribute('aria-controls');
            const ans = document.getElementById(id);
            const expanded = btn.getAttribute('aria-expanded') === 'true';
            btn.setAttribute('aria-expanded', String(!expanded));
            ans.hidden = expanded;
          });
        });
      }
      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', initQA);
      } else {
        initQA();
      }
    })();
  </script>

</body>
</html>
